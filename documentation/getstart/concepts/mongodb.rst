.. _mongodb-intro:

+++++++
MongoDB
+++++++

In general, image pixel data is not regarded as a standard TraP :ref:`data
product <overview>`: stated policy is that archiving the large amount of pixel
data generated by the sort of surveys that TraP is designed to process is
simply impractical.

However, particularly when processing smaller volumes of data, or for pipeline
testing and commissioning, it is convenient to be able to store a copy of the
pixels that have been processed. The TraP therefore supports storing image
data to a `MongoDB <http://www.mongodb.org/>`_ database. MongoDB is a
"document-oriented database", which provides a convenient, low-overhead way to
store and retrieve large volumes of image data.

It is worth noting that the data stored to MongoDB is not a bit-for-bit copy
of the input images. We store only the pixel data together with world
coordinate system information embedded in a `FITS
<http://fits.gsfc.nasa.gov/>`_ container; other metadata is stripped.

The use of MongoDB within the TraP is completely optional: it is perfectly
possibly to run a complete survey without installing it. However, if storing
image data is required, you will need to `install MongoDB
<http://docs.mongodb.org/manual/installation/>`_ along with the TraP and
configure the :ref:`persistence step <stage-persistence>` appropriately.
